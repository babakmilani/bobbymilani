(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(e){if(e.ep)return;e.ep=!0;const n=r(e);fetch(e.href,n)}})();const b="https://script.google.com/macros/s/AKfycbxvkG2FAYrMXbXEMOXRwDNs2Gny0mMnWoh5A-OHGHqcshERg9xe89zxjvKyF9eKwT2z/exec",w="G-CZDJHG7RBN";function E(t){const o=document.createElement("script");o.async=!0,o.src=`https://www.googletagmanager.com/gtag/js?id=${t}`,document.head.appendChild(o);const r=document.createElement("script");r.textContent=`
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', '${t}');
    `,document.head.appendChild(r)}function S(t){const o=t.phone?t.phone.replace(/[\s\-\(\)]/g,""):"",r=t.contact;if(!t.firstName||!t.lastName||!t.email||!t.youtube||!r)return console.error("❌ Validation Error: Please fill in all required fields marked with an asterisk (*)."),!1;if((r==="sms"||r==="both")&&o.length===0)return console.error("❌ Validation Error: Selected SMS/Both contact preference but phone number is empty. Please enter your phone number."),!1;if(o.length>0&&!/^\d{10}$/.test(o))return console.error("❌ Validation Error: Phone number must contain exactly 10 digits (e.g., (555) 555-1234)."),!1;if(!t.terms)return console.error("❌ Validation Error: Please agree to the Terms & Conditions to continue."),!1;for(const s in t)typeof t[s]=="string"&&(t[s]=t[s].replace(/</g,"&lt;").replace(/>/g,"&gt;"));return!0}async function L(t){t.preventDefault();const o=t.target,r=o.querySelector(".submit-btn"),s=new FormData(o),e=Object.fromEntries(s.entries());if(e.terms=o.querySelector('input[name="terms"]').checked,e.marketing=o.querySelector('input[name="marketing"]').checked,console.log("Form data being sent (JSON conversion):",e),!!S(e)){r.disabled=!0,r.textContent="Submitting...";try{const n=await fetch(b,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});console.log("Form submission assumed successful (no-cors response)."),document.getElementById("communityForm").style.display="none",document.getElementById("successMessage").style.display="block"}catch(n){console.error("Submission Error:",n),console.error("An error occurred during submission. Please try again."),r.disabled=!1,r.textContent="Join the Community"}}}document.addEventListener("DOMContentLoaded",function(){const t=document.getElementById("communityForm");t&&t.addEventListener("submit",L),document.querySelectorAll(".stat-number").forEach(i=>{const l=i.textContent,d=parseInt(l.replace(/\D/g,""));let a=0;const g=d/50,h=setInterval(()=>{if(a+=g,a>=d)i.textContent=l,clearInterval(h);else{const y=l.includes("K")?"K+":"";i.textContent=Math.round(a).toLocaleString()+y}},30)});const r=document.getElementById("competition-popup"),s=document.getElementById("membership-popup");let e=!1,n=!1;const c=300,f=5e3,p=1e3;function u(i){i.classList.add("show"),setTimeout(()=>{i.classList.remove("show")},f)}function m(){window.scrollY>c&&(e||(e=!0,u(r)),n||(n=!0,setTimeout(()=>{u(s),window.removeEventListener("scroll",m)},p)))}window.addEventListener("scroll",m),E(w)});
